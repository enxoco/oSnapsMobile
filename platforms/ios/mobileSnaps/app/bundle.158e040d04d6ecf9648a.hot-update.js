webpackHotUpdate("bundle",{

/***/ "./views/retrieveSecret/retrieveSecret-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var page;
var email;
var dialogsModule = __webpack_require__("tns-core-modules/ui/dialogs");
var frameModule = __webpack_require__("tns-core-modules/ui/frame");


var observableModule = __webpack_require__("tns-core-modules/data/observable");

var user = new observableModule.fromObject({
    pin: "",
    showDetails: false,
    secret: ""
});

exports.loaded = function (args) {
    page = args.object;
    page.bindingContext = user;
};


exports.retrieveSecret = function(){

    fetch(`https://theopensuite.com/api/snaps/${user.pin}`, {
        method: "GET",
        headers: { "Content-Type": "application/json" },

    }).then((r) => r.json())
        .then((response) => {
            user.secret = response.secret
            user.showDetails = true
            user.pin = ""
            // frameModule.Frame.topmost().closeModal()
            // frameModule.Frame.topmost().navigate('views/retrieveSecret/retrieveSecret-page', {
            //     context: {
            //     secret: response.secret,
            //     showDetails: true
            // }});
        }).then(() => {


        })

        .catch((e) => {
        });
}

exports.home = function(){
    frameModule.Frame.topmost().navigate('views/login/login-page', {clearHistory: true})
}

exports.goHome = function() {
    user.showDetails = false
    frameModule.Frame.topmost().navigate(homePage)

}; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./views/retrieveSecret/retrieveSecret-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./views/retrieveSecret/retrieveSecret-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ })

})
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi92aWV3cy9yZXRyaWV2ZVNlY3JldC9yZXRyaWV2ZVNlY3JldC1wYWdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBLG9CQUFvQixtQkFBTyxDQUFDLDZCQUE2QjtBQUN6RCxrQkFBa0IsbUJBQU8sQ0FBQywyQkFBMkI7OztBQUdyRCx1QkFBdUIsbUJBQU8sQ0FBQyxrQ0FBa0M7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUEsZ0RBQWdELFNBQVM7QUFDekQ7QUFDQSxrQkFBa0IscUNBQXFDOztBQUV2RCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLFNBQVM7OztBQUdULFNBQVM7O0FBRVQ7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxvRUFBb0UsbUJBQW1CO0FBQ3ZGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxFO0FBQ0EsSUFBSSxLQUFVOztBQUVkO0FBQ0E7QUFDQSwyQkFBMkIsd0VBQXdFO0FBQ25HLEtBQUs7QUFDTCxDIiwiZmlsZSI6ImJ1bmRsZS4xNThlMDQwZDA0ZDZlY2Y5NjQ4YS5ob3QtdXBkYXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHBhZ2U7XG52YXIgZW1haWw7XG52YXIgZGlhbG9nc01vZHVsZSA9IHJlcXVpcmUoXCJ0bnMtY29yZS1tb2R1bGVzL3VpL2RpYWxvZ3NcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidG5zLWNvcmUtbW9kdWxlcy91aS9mcmFtZVwiKTtcblxuXG52YXIgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJ0bnMtY29yZS1tb2R1bGVzL2RhdGEvb2JzZXJ2YWJsZVwiKTtcblxudmFyIHVzZXIgPSBuZXcgb2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBwaW46IFwiXCIsXG4gICAgc2hvd0RldGFpbHM6IGZhbHNlLFxuICAgIHNlY3JldDogXCJcIlxufSk7XG5cbmV4cG9ydHMubG9hZGVkID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHVzZXI7XG59O1xuXG5cbmV4cG9ydHMucmV0cmlldmVTZWNyZXQgPSBmdW5jdGlvbigpe1xuXG4gICAgZmV0Y2goYGh0dHBzOi8vdGhlb3BlbnN1aXRlLmNvbS9hcGkvc25hcHMvJHt1c2VyLnBpbn1gLCB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuXG4gICAgfSkudGhlbigocikgPT4gci5qc29uKCkpXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgdXNlci5zZWNyZXQgPSByZXNwb25zZS5zZWNyZXRcbiAgICAgICAgICAgIHVzZXIuc2hvd0RldGFpbHMgPSB0cnVlXG4gICAgICAgICAgICB1c2VyLnBpbiA9IFwiXCJcbiAgICAgICAgICAgIC8vIGZyYW1lTW9kdWxlLkZyYW1lLnRvcG1vc3QoKS5jbG9zZU1vZGFsKClcbiAgICAgICAgICAgIC8vIGZyYW1lTW9kdWxlLkZyYW1lLnRvcG1vc3QoKS5uYXZpZ2F0ZSgndmlld3MvcmV0cmlldmVTZWNyZXQvcmV0cmlldmVTZWNyZXQtcGFnZScsIHtcbiAgICAgICAgICAgIC8vICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICAvLyAgICAgc2VjcmV0OiByZXNwb25zZS5zZWNyZXQsXG4gICAgICAgICAgICAvLyAgICAgc2hvd0RldGFpbHM6IHRydWVcbiAgICAgICAgICAgIC8vIH19KTtcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XG5cblxuICAgICAgICB9KVxuXG4gICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICB9KTtcbn1cblxuZXhwb3J0cy5ob21lID0gZnVuY3Rpb24oKXtcbiAgICBmcmFtZU1vZHVsZS5GcmFtZS50b3Btb3N0KCkubmF2aWdhdGUoJ3ZpZXdzL2xvZ2luL2xvZ2luLXBhZ2UnLCB7Y2xlYXJIaXN0b3J5OiB0cnVlfSlcbn1cblxuZXhwb3J0cy5nb0hvbWUgPSBmdW5jdGlvbigpIHtcbiAgICB1c2VyLnNob3dEZXRhaWxzID0gZmFsc2VcbiAgICBmcmFtZU1vZHVsZS5GcmFtZS50b3Btb3N0KCkubmF2aWdhdGUoaG9tZVBhZ2UpXG5cbn07IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vdmlld3MvcmV0cmlldmVTZWNyZXQvcmV0cmlldmVTZWNyZXQtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3ZpZXdzL3JldHJpZXZlU2VjcmV0L3JldHJpZXZlU2VjcmV0LXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIl0sInNvdXJjZVJvb3QiOiIifQ==